import{H as u}from"./control-a6874251.js";import{u as i,f as c}from"./repos-c6c66058.js";function g(r,t){return new u(r,t)}const l="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",m=async({fetch:r})=>{{const t=localStorage.getItem("repos");if(t)return{owner:"Qmtk",repo:"Toolkit",repos:JSON.parse(t)};console.log("Fetching repos ...",t);let e=await(await r("https://api.github.com/users/mxcop/repos?type=all",{headers:{Authorization:l}})).json();if(e.message)throw g(429,"Too many requests : "+e.message);e=e.sort((o,s)=>s.stargazers_count-o.stargazers_count);for(let o=0;o<e.length;o++){e[o].languages={},e[o].language!=null&&(e[o].languages[`${e[o].language}`]=100);const s=o;r(e[o].languages_url,{headers:{Authorization:l}}).then(p=>{p.json().then(a=>{if(a.message)throw g(429,"Too many requests : "+a.message);i(s,a)})})}const n=c(e);return localStorage.setItem("repos",JSON.stringify(n)),console.log("Stored repos !"),{owner:"Qmtk",repo:"Toolkit",repos:n}}},_=Object.freeze(Object.defineProperty({__proto__:null,load:m},Symbol.toStringTag,{value:"Module"}));export{_,m as l};
