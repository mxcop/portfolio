import{H as l}from"./control-a6874251.js";import{f as u,p as i,u as c}from"./projects-ce8f2baa.js";function r(e,o){return new l(e,o)}const n="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",p=async({fetch:e})=>{{const o=localStorage.getItem("repos");if(o)return{owner:"Qmtk",repo:"Toolkit",repos:JSON.parse(o)};console.log("Fetching repos ...",o);let t=await(await e("https://api.github.com/users/mxcop/repos?type=all",{headers:{Authorization:n}})).json();if(t.message)throw r(429,"Too many requests : "+t.message);t=t.sort((a,g)=>g.stargazers_count-a.stargazers_count),setTimeout(()=>{m(t)},200);const s=u(t);return localStorage.setItem("repos",JSON.stringify(s)),console.log("Stored repos !"),{owner:"Qmtk",repo:"Toolkit",repos:s}}};async function m(e){for(let o=0;o<e.length;o++){if(!i[e[o].name])continue;e[o].languages={},e[o].language!=null&&(e[o].languages[`${e[o].language}`]=100);const t=o;fetch(e[o].languages_url,{headers:{Authorization:n}}).then(s=>{s.json().then(a=>{if(a.message)throw r(429,"Too many requests : "+a.message);c(t,a)})})}}const y=Object.freeze(Object.defineProperty({__proto__:null,load:p},Symbol.toStringTag,{value:"Module"}));export{y as _,p as l};
