import{H as i}from"./control-03134885.js";import{f as u,p as l,u as p}from"./projects-7a40225d.js";function r(e,o){return new i(e,o)}const n="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",m=async({fetch:e})=>{{const o=sessionStorage.getItem("repos");if(o)return{owner:"Qmtk",repo:"Toolkit",repos:JSON.parse(o)};console.log("Fetching repos ...",o);let t=await(await e("https://api.github.com/users/mxcop/repos?type=all",{headers:{Authorization:n}})).json();if(t.message)throw r(429,"Too many requests : "+t.message);t=t.sort((s,g)=>g.stargazers_count-s.stargazers_count),setTimeout(()=>{c(t)},200);const a=u(t);return sessionStorage.setItem("repos",JSON.stringify(a)),console.log("Stored repos !"),{owner:"Qmtk",repo:"Toolkit",repos:a}}};async function c(e){for(let o=0;o<e.length;o++){if(!l[e[o].name])continue;e[o].languages={},e[o].language!=null&&(e[o].languages[`${e[o].language}`]=100);const t=o;fetch(e[o].languages_url,{headers:{Authorization:n}}).then(a=>{a.json().then(s=>{if(s.message)throw r(429,"Too many requests : "+s.message);p(t,s)})})}}const y=Object.freeze(Object.defineProperty({__proto__:null,load:m},Symbol.toStringTag,{value:"Module"}));export{y as _,m as l};
